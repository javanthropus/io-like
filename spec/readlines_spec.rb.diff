<<< spec/readlines_spec.rb
>>> rubyspec/core/io/readlines_spec.rb
1c1,38
< describe "IO::Like#readlines when passed no arguments" do
---
> describe "IO#readlines" do
>   before :each do
>   after :each do
>   ruby_version_is "1.9" do
>     before :each do
>     after :each do
>   it "raises an IOError if the stream is closed" do
>   describe "when passed no arguments" do
>     before :each do
>     after :each do
>     it "returns an Array containing lines based on $/" do
>   describe "when passed no arguments" do
>     it "updates self's position" do
>     it "updates self's lineno based on the number of lines read" do
>     it "does not change $_" do
>     it "returns an empty Array when self is at the end" do
>   describe "when passed nil" do
>     it "returns the remaining content as one line starting at the current position" do
>   describe "when passed an empty String" do
>     it "returns an Array containing all paragraphs" do
>   describe "when passed a separator" do
>     it "returns an Array containing lines based on the separator" do
>     it "returns an empty Array when self is at the end" do
>     it "updates self's lineno based on the number of lines read" do
>     it "updates self's position based on the number of characters read" do
>     it "does not change $_" do
>     it "tries to convert the passed separator to a String using #to_str" do
>   describe "when passed a string that starts with a |" do
>     it "gets data from the standard out of the subprocess" do
>     it "gets data from a fork when passed -" do
> describe "IO#readlines" do
>   before :each do
>   after :each do
>   it "raises an IOError if the stream is opened for append only" do
>     lambda do
>   it "raises an IOError if the stream is opened for write only" do
>     lambda do
> describe "IO.readlines" do
3,21c40,59
<   after(:each) do
#lwoggardner: next 5 below covered under "when passed no arguments" above
<   it "returns an Array containing lines based on $/" do
<   it "updates self's position" do
<   it "updates self's lineno based on the number of lines read" do
<   it "does not change $_" do
<   it "returns an empty Array when self is at the end" do
< describe "IO::Like#readlines when passed [separator]" do
<   before(:each) do
<   after(:each) do
#lwoggardner: next 5 below covered under "when passed a separator" above
<   it "returns an Array containing lines based on the passed separator" do
<   it "returns an empty Array when self is at the end" do
<   it "updates self's lineno based on the number of lines read" do
<   it "updates self's position based on the number of characters read" do
<   it "does not change $_" do
#lwoggardner: covered by "when passed an empty String" above
<   it "returns an Array containing all paragraphs when the passed separator is an empty String" do
#lwoggardner: covered by "when passed nil" above
<   it "returns the remaining content as one line starting at the current position when passed nil" do
#lwoggardner: covered above
<   it "tries to convert the passed separator to a String using #to_str" do
#lwoggardner: covered by "stream is opened for write only" above
< describe "IO::Like#readlines when in write-only mode" do
<   it "raises an IOError" do
#lwoggardner: all tests covered, spec deleted
---
>   ruby_version_is "1.9" do
>     before :each do
>     after :each do
>   describe "when not passed a separator" do
>     before :each do
>     after :each do
>     it "returns an Array containing lines of file_name based on $/" do
>   describe "when not passed a separator" do
>     it "raises an Errno::ENOENT error when the passed file_name does not exist" do
>     it "does not change $_" do
>     it "tries to convert the passed file_name to a String using #to_str" do
>   describe "when passed nil as a separator" do
>     it "returns the contents as a single String" do
>   describe "when passed an empty String as a separator" do
>     it "returns an Array containing all paragraphs" do
>   describe "when passed an arbitrary string separator" do
>     it "returns an Array containing lines of file_name based on the passed separator" do
>     it "does not change $_" do
>   describe "when passed an object as separator" do
>     it "tries to convert the passed separator to a String using #to_str" do
