<<< spec/shared/each.rb
>>> rubyspec/core/io/shared/each.rb
1,7c1,27
#lwoggardner: all covered under "with no separator"
< describe :io_like__each, :shared => true do
<   before(:each) do
<   after(:each) do
<   it "returns self" do
<   it "yields each line to the passed block" do
<   it "yields each line starting from the current position" do
<   it "does not change $_" do
---
> describe :io_each, :shared => true do
>   before :each do
>   after :each do
>   describe "with no separator" do
>     it "yields each line to the passed block" do
>     it "yields each line starting from the current position" do
>     it "returns self" do
>     it "does not change $_" do
>     it "returns self" do
>     it "raises an IOError when self is not readable" do
>     it "makes line count accessible via lineno" do
>     it "makes line count accessible via $." do
>     ruby_version_is "" ... "1.8.7" do
>       it "raises a LocalJumpError when passed no block" do
>     ruby_version_is "1.8.7" do
>       it "returns an Enumerator when passed no block" do
>   describe "when passed a String containing one space as a separator" do
>     it "uses the passed argument as the line separator" do
>     it "does not change $_" do
>     it "tries to convert the passed separator to a String using #to_str" do
>   describe "when passed nil as a separator" do
>     it "yields self's content starting from the current position when the passed separator is nil" do
>   describe "when passed an empty String as a separator" do
>     it "yields each paragraph" do
> describe :io_each_default_separator, :shared => true do
>   before :each do
>   after :each do
9,33d28
#lwoggardner: retained
<   it "raises IOError on write-only stream" do
<     lambda do
#lwoggardner: despite the misleading name this is actually covered by 
#   "raises an IOError when self is not readable" above
<   it "raises IOError on closed stream" do
#lwoggardner: covered under "with no separator" above
<   ruby_version_is "" ... "1.8.7" do
<     it "yields a LocalJumpError when passed no block" do
#lwoggardner: covered under "with no separator" above
<   ruby_version_is "1.8.7" do
<     it "returns an Enumerator when passed no block" do
< describe :io_like__each_separator, :shared => true do
<   before(:each) do
<   after(:each) do
#lwoggardner: not necessaary to retest for each separator type
<   it "returns self" do
#lwoggardner: covered under "when passed a String containined one space as a separator" above
<   it "uses the passed argument as the line separator" do
#lwoggardner: covered under "when passed a String containined one space as a separator" above
<   it "does not change $_" do
#lwoggardner: covered under "when passed a String containined one space as a separator" above
<   it "tries to convert the passed separator to a String using #to_str" do
#lwoggardner: covered under "when passed nil as a separator" above
<   it "yields self's content starting from the current position when the passed separator is nil" do
#lwoggardner: covered under "when passed nil as a separator" above
<   it "yields each paragraph when passed an empty String as separator" do
#lwoggardner: not necessary to retest for each separator type
<   it "raises IOError on write-only stream" do
<     lambda do
#lwoggardner: not necessary to retest for each separator type
<   it "raises IOError on closed stream" do
<     lambda do
#lwoggardner: not necessary to retest for each separator type
<   ruby_version_is "" ... "1.8.7" do
<     it "yields a LocalJumpError when passed no block" do
<       lambda do
#lwoggardner: not necessary to retest for each separator type
<   ruby_version_is "1.8.7" do
<     it "returns an Enumerator when passed no block" do
